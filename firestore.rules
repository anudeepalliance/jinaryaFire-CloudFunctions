rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
     //Rules for the User Document
    match /Users/{uid} {
    	//Users can read data about all other users
    	allow read : if request.auth != null
      //Users can edit data if it is their own data
      allow write: if request.auth.uid == uid;
    }
    //Rules for the User Profile Document
    match /Users/{uid}/ProfileInfo/{againuid} {
    	//Users can read data about all other users
    	allow read : if request.auth != null
      //Users can edit data if it is their own data
      allow write: if request.auth.uid == uid;
    }
    //Rules for all the sub-collections in the user document
    match /Users/{uid}/{subCollections=**} {
      //Users can edit data if it is their own data
      allow read, write: if request.auth.uid == uid;
    }
    //Rules for the Feedback Collection
    match /Feedback/{randomDocId} {
    	//No one can read the suggestions,
      //CF adds data to this as an admin
    	allow read : if false
    }
  }
}